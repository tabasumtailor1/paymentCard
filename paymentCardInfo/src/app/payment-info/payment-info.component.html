<mat-card style="background-color: rgb(192, 190, 190);">
  <mat-card-content>
    <form >
      <!-- Stripe Elements placeholder: card number / expiry / cvc rendered securely by Stripe.js -->
    <div class="stripe-field full-width">
      <label class="mat-label">Card Details</label>
      <div id="stripe-card-element" class="stripe-element"></div>
      <div *ngIf="cardError" class="mat-error">{{ cardError }}</div>
      <div *ngIf="cardBrand && cardBrand !== 'Unknown'" class="mat-hint">{{ cardBrand }}</div>
    </div>
      <!-- Secure Expiration Element -->
      <!-- expiry and cvc are handled by Stripe Elements securely, so we don't collect them here -->
    </form>
    <div class="payment-status">
      <div *ngIf="processing" class="mat-hint">Processing paymentâ€¦</div>
      <div *ngIf="paymentResultMessage && !processing" [class.success]="paymentSuccess" [class.error]="paymentSuccess===false">{{ paymentResultMessage }}</div>
      <div *ngIf="errorMessage && !processing" class="mat-hint">{{ errorMessage }}</div>
    </div>
  </mat-card-content>
  <mat-card-actions>
    <button mat-raised-button color="primary" type="submit" [disabled]="processing" (click)="submitPayment()">Pay</button>
  </mat-card-actions>
</mat-card>

